<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page.title }}</title>
    <link
      rel="stylesheet"
      href="{{ '/assets/css/style.css' | relative_url }}"
    />

    <!-- Per-page CSS using Liquid for correct relative URL -->
    <style>
      .notebook-bg {
        background-image: url('{{ "/assets/images/notebook.png" | relative_url }}');
        background-size: cover;
        background-position: center top;
        background-repeat: no-repeat;
      }

      /* Ensure the notepad area stays readable on top of the background */
      .notebook-bg .notepad {
        background: rgba(246, 246, 246, 0.9);
      }
    </style>
  </head>
  <body>
    <nav class="scrap-nav">
      <a href="{{ '/' | relative_url }}">ğŸ </a>
      <a href="{{ '/journal' | relative_url }}">ğŸ“’</a>
      <a href="{{ '/recipes' | relative_url }}">ğŸ°</a>
      <a href="{{ '/gallery' | relative_url }}">ğŸ“¸</a>
    </nav>

    <!-- Use notebook image via CSS class instead of inline style -->
    <main class="page journal notebook-bg">
      <div class="notepad">
        <h1>{{ page.title }}</h1>

        <!-- Table of contents: links to each journal post shown below -->
        <nav class="toc">
          <h2>Contents</h2>
          <ul class="toc-list">
            {% for post in site.posts %} {% if post.section == "journal" %}
            <li>
              <a href="#post-{{ post.url | slugify }}"
                >{{ post.date | date: "%b %d" }} â€” {{ post.title }}</a
              >
            </li>
            {% endif %} {% endfor %}
          </ul>
        </nav>

        <!-- Full entries rendered in order -->
        <div class="entries">
          {% for post in site.posts %} {% if post.section == "journal" %}
          <article
            id="post-{{ post.url | slugify }}"
            class="entry {{ post.issue }}"
          >
            <div class="entry-meta">
              {{ post.date | date: "%B %d, %Y" }} Â· {{ post.vibe }}
            </div>
            <h3 class="entry-title">{{ post.title }}</h3>
            <div class="entry-content">{{ post.content }}</div>
          </article>
          {% endif %} {% endfor %}
        </div>
      </div>
    </main>
  </body>
</html>
